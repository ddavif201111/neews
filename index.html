<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        /* –í–µ—Å—å –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ–π CSS –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è + –¥–æ–¥–∞—î–º–æ –∞–Ω—ñ–º–∞—Ü—ñ—é —Ü–∏—Ñ—Ä */
        body {
            background: #1a1a1a; color: white; margin: 0; padding: 0;
            font-family: sans-serif; overflow: hidden; touch-action: none;
            display: flex; flex-direction: column; height: 100vh;
        }
        .header { text-align: center; padding: 15px; background: #2c2c2c; border-radius: 0 0 20px 20px; }
        #balance { font-size: 36px; font-weight: bold; color: #ffdf00; margin: 0; }
        
        .page { display: none; flex-grow: 1; flex-direction: column; align-items: center; width: 100%; padding-top: 20px; }
        .active-page { display: flex; }

        #coin-container { position: relative; display: flex; align-items: center; justify-content: center; }
        #coin {
            width: 210px; height: 210px; background: radial-gradient(circle, #ffdf00, #d4af37); 
            border-radius: 50%; display: flex; align-items: center; justify-content: center; 
            font-size: 80px; box-shadow: 0 0 30px rgba(255,223,0,0.3); user-select: none;
            transition: transform 0.05s; z-index: 2;
        }
        
        /* –°—Ç–∏–ª—å –¥–ª—è –≤–∏–ª—ñ—Ç–∞—é—á–∏—Ö —Ü–∏—Ñ—Ä */
        .click-ani {
            position: absolute; color: #ffdf00; font-size: 32px; font-weight: 900;
            pointer-events: none; animation: floatUp 0.7s ease-out forwards; z-index: 10;
        }

        @keyframes floatUp {
            0% { opacity: 1; transform: translateY(0); }
            100% { opacity: 0; transform: translateY(-120px); }
        }

        /* –Ü–Ω—à—ñ —Å—Ç–∏–ª—ñ –∑ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ—ó –≤–µ—Ä—Å—ñ—ó (–∫–∞—Ä—Ç–∫–∏, –∫–Ω–æ–ø–∫–∏, –Ω–∞–≤—ñ–≥–∞—Ü—ñ—è) */
        .card { background: #2c2c2c; width: 88%; padding: 15px; border-radius: 14px; margin-bottom: 12px; display: flex; justify-content: space-between; align-items: center; border: 1px solid #3d3d3d; }
        .btn { background: #0088cc; color: white; border: none; padding: 10px 16px; border-radius: 10px; font-weight: bold; }
        .nav { height: 75px; display: flex; background: #2c2c2c; justify-content: space-around; align-items: center; border-top: 1px solid #3d3d3d; }
        .nav-item { opacity: 0.5; font-size: 11px; text-align: center; flex: 1; }
        .nav-item.active { opacity: 1; color: #0088cc; }
    </style>
</head>
<body>

<div class="header">
    <p id="balance">0</p>
    <div style="font-size: 12px; color: #4cd137;">+<span id="ps-val">0</span>/—Å–µ–∫</div>
</div>

<div id="game-pg" class="page active-page">
    <div id="coin-container">
        <div id="coin" onpointerdown="tap(event)">üí∞</div>
    </div>
    <div style="width: 85%; margin-top: 40px;">
        <div style="background: #333; height: 10px; border-radius: 5px; overflow: hidden;">
            <div id="en-bar" style="background: orange; width: 100%; height: 100%;"></div>
        </div>
    </div>
</div>

<script>
    // ... –ª–æ–≥—ñ–∫–∞ localStorage, pLvl, fLvl ...

    function tap(e) {
        if (e.cancelable) e.preventDefault();
        let pwr = Math.round(Math.pow(1.5, pLvl - 1));
        
        if (energy >= 1) {
            coins += pwr;
            energy -= 1;
            
            // –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∞–Ω—ñ–º–∞—Ü—ñ—ó —Ü–∏—Ñ—Ä–∏
            const ani = document.createElement('div');
            ani.className = 'click-ani';
            ani.innerText = +${pwr};
            // –ü–æ–∑–∏—Ü—ñ–æ–Ω—É–≤–∞–Ω–Ω—è –≤—ñ–¥–Ω–æ—Å–Ω–æ –º—ñ—Å—Ü—è –∫–ª—ñ–∫—É
            ani.style.left = ${e.clientX - 20}px;
            ani.style.top = ${e.clientY - 40}px;
            document.body.appendChild(ani);
            
            // –í–∏–¥–∞–ª–µ–Ω–Ω—è –µ–ª–µ–º–µ–Ω—Ç–∞ –ø—ñ—Å–ª—è –∞–Ω—ñ–º–∞—Ü—ñ—ó
            setTimeout(() => ani.remove(), 700);

            tg.HapticFeedback.impactOccurred('light');
            update();
        }
    }

    // ... —Ä–µ—à—Ç–∞ —Ñ—É–Ω–∫—Ü—ñ–π update, buy, nav, setInterval ...
</script>
</body>
</html>
